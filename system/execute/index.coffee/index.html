<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../../../img/favicon.ico">

	<title>Index.coffee - node-nikita</title>

        <link href="../../../css/bootstrap-custom.min.css" rel="stylesheet">
        <link href="../../../css/font-awesome-4.5.0.css" rel="stylesheet">
        <link href="../../../css/base.css" rel="stylesheet">
        <link rel="stylesheet" href="../../../css/highlight.css">

        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->

        
    </head>

    <body>

        <div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">

        <!-- Collapsed navigation -->
        <div class="navbar-header">
            
            <!-- Expander button -->
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            

            <!-- Main title -->
            <a class="navbar-brand" href="../../../context.coffee/">node-nikita</a>
        </div>

        <!-- Expanded navigation -->
        <div class="navbar-collapse collapse">
            
                <!-- Main navigation -->
                <ul class="nav navbar-nav">
                
                
                    <li >
                        <a href="../../../context.coffee/">Context.coffee</a>
                    </li>
                
                
                
                    <li >
                        <a href="../../../index.coffee/">Index.coffee</a>
                    </li>
                
                
                
                    <li >
                        <a href="../../../registry.coffee/">Registry.coffee</a>
                    </li>
                
                
                
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Alt <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li >
    <a href="../../../alt/ldap_acl.coffee/">Ldap acl.coffee</a>
</li>

                        
                            
<li >
    <a href="../../../alt/ldap_index.coffee/">Ldap index.coffee</a>
</li>

                        
                        </ul>
                    </li>
                
                
                
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Connection <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li >
    <a href="../../../connection/assert.coffee/">Assert.coffee</a>
</li>

                        
                            
<li >
    <a href="../../../connection/wait.coffee/">Wait.coffee</a>
</li>

                        
                        </ul>
                    </li>
                
                
                
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Core <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li >
    <a href="../../../core/assert.coffee/">Assert.coffee</a>
</li>

                        
                            
<li >
    <a href="../../../core/ping.coffee/">Ping.coffee</a>
</li>

                        
                            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Kv</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../../core/kv/engine.coffee/">Engine.coffee</a>
</li>

        
            
<li >
    <a href="../../../core/kv/get.coffee/">Get.coffee</a>
</li>

        
            
<li >
    <a href="../../../core/kv/set.coffee/">Set.coffee</a>
</li>

        
            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Engines</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../../core/kv/engines/memory.coffee/">Memory.coffee</a>
</li>

        
    </ul>
  </li>

        
    </ul>
  </li>

                        
                        </ul>
                    </li>
                
                
                
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Cron <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li >
    <a href="../../../cron/add.coffee/">Add.coffee</a>
</li>

                        
                            
<li >
    <a href="../../../cron/remove.coffee/">Remove.coffee</a>
</li>

                        
                        </ul>
                    </li>
                
                
                
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Db <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Database</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../../db/database/exists.coffee/">Exists.coffee</a>
</li>

        
            
<li >
    <a href="../../../db/database/index.coffee/">Index.coffee</a>
</li>

        
            
<li >
    <a href="../../../db/database/remove.coffee/">Remove.coffee</a>
</li>

        
            
<li >
    <a href="../../../db/database/wait.coffee/">Wait.coffee</a>
</li>

        
    </ul>
  </li>

                        
                            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Schema</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../../db/schema/index.coffee/">Index.coffee</a>
</li>

        
            
<li >
    <a href="../../../db/schema/remove.coffee/">Remove.coffee</a>
</li>

        
    </ul>
  </li>

                        
                            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">User</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../../db/user/exists.coffee/">Exists.coffee</a>
</li>

        
            
<li >
    <a href="../../../db/user/index.coffee/">Index.coffee</a>
</li>

        
            
<li >
    <a href="../../../db/user/remove.coffee/">Remove.coffee</a>
</li>

        
    </ul>
  </li>

                        
                        </ul>
                    </li>
                
                
                
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Docker <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li >
    <a href="../../../docker/build.coffee/">Build.coffee</a>
</li>

                        
                            
<li >
    <a href="../../../docker/checksum.coffee/">Checksum.coffee</a>
</li>

                        
                            
<li >
    <a href="../../../docker/cp.coffee/">Cp.coffee</a>
</li>

                        
                            
<li >
    <a href="../../../docker/exec.coffee/">Exec.coffee</a>
</li>

                        
                            
<li >
    <a href="../../../docker/kill.coffee/">Kill.coffee</a>
</li>

                        
                            
<li >
    <a href="../../../docker/load.coffee/">Load.coffee</a>
</li>

                        
                            
<li >
    <a href="../../../docker/login.coffee/">Login.coffee</a>
</li>

                        
                            
<li >
    <a href="../../../docker/logout.coffee/">Logout.coffee</a>
</li>

                        
                            
<li >
    <a href="../../../docker/pause.coffee/">Pause.coffee</a>
</li>

                        
                            
<li >
    <a href="../../../docker/pull.coffee/">Pull.coffee</a>
</li>

                        
                            
<li >
    <a href="../../../docker/restart.coffee/">Restart.coffee</a>
</li>

                        
                            
<li >
    <a href="../../../docker/rm.coffee/">Rm.coffee</a>
</li>

                        
                            
<li >
    <a href="../../../docker/rmi.coffee/">Rmi.coffee</a>
</li>

                        
                            
<li >
    <a href="../../../docker/run.coffee/">Run.coffee</a>
</li>

                        
                            
<li >
    <a href="../../../docker/save.coffee/">Save.coffee</a>
</li>

                        
                            
<li >
    <a href="../../../docker/service.coffee/">Service.coffee</a>
</li>

                        
                            
<li >
    <a href="../../../docker/start.coffee/">Start.coffee</a>
</li>

                        
                            
<li >
    <a href="../../../docker/status.coffee/">Status.coffee</a>
</li>

                        
                            
<li >
    <a href="../../../docker/stop.coffee/">Stop.coffee</a>
</li>

                        
                            
<li >
    <a href="../../../docker/unpause.coffee/">Unpause.coffee</a>
</li>

                        
                            
<li >
    <a href="../../../docker/volume_create.coffee/">Volume create.coffee</a>
</li>

                        
                            
<li >
    <a href="../../../docker/volume_rm.coffee/">Volume rm.coffee</a>
</li>

                        
                            
<li >
    <a href="../../../docker/wait.coffee/">Wait.coffee</a>
</li>

                        
                            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Compose</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../../docker/compose/index.coffee/">Index.coffee</a>
</li>

        
    </ul>
  </li>

                        
                        </ul>
                    </li>
                
                
                
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">File <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li >
    <a href="../../../file/assert.coffee/">Assert.coffee</a>
</li>

                        
                            
<li >
    <a href="../../../file/cache.coffee/">Cache.coffee</a>
</li>

                        
                            
<li >
    <a href="../../../file/cson.coffee/">Cson.coffee</a>
</li>

                        
                            
<li >
    <a href="../../../file/download.coffee/">Download.coffee</a>
</li>

                        
                            
<li >
    <a href="../../../file/index.coffee/">Index.coffee</a>
</li>

                        
                            
<li >
    <a href="../../../file/ini.coffee/">Ini.coffee</a>
</li>

                        
                            
<li >
    <a href="../../../file/json.coffee/">Json.coffee</a>
</li>

                        
                            
<li >
    <a href="../../../file/render.coffee/">Render.coffee</a>
</li>

                        
                            
<li >
    <a href="../../../file/touch.coffee/">Touch.coffee</a>
</li>

                        
                            
<li >
    <a href="../../../file/upload.coffee/">Upload.coffee</a>
</li>

                        
                            
<li >
    <a href="../../../file/yaml.coffee/">Yaml.coffee</a>
</li>

                        
                            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Properties</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../../file/properties/index.coffee/">Index.coffee</a>
</li>

        
            
<li >
    <a href="../../../file/properties/read.coffee/">Read.coffee</a>
</li>

        
    </ul>
  </li>

                        
                            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Types</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../../file/types/ceph_conf.coffee/">Ceph conf.coffee</a>
</li>

        
            
<li >
    <a href="../../../file/types/locale_gen.coffee/">Locale gen.coffee</a>
</li>

        
            
<li >
    <a href="../../../file/types/pacman_conf.coffee/">Pacman conf.coffee</a>
</li>

        
            
<li >
    <a href="../../../file/types/ssh_authorized_keys.coffee/">Ssh authorized keys.coffee</a>
</li>

        
            
<li >
    <a href="../../../file/types/yum_repo.coffee/">Yum repo.coffee</a>
</li>

        
            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Etc group</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../../file/types/etc_group/read.coffee/">Read.coffee</a>
</li>

        
    </ul>
  </li>

        
            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Etc passwd</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../../file/types/etc_passwd/read.coffee/">Read.coffee</a>
</li>

        
    </ul>
  </li>

        
    </ul>
  </li>

                        
                        </ul>
                    </li>
                
                
                
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Fs <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li >
    <a href="../../../fs/chmod.coffee/">Chmod.coffee</a>
</li>

                        
                            
<li >
    <a href="../../../fs/chown.coffee/">Chown.coffee</a>
</li>

                        
                            
<li >
    <a href="../../../fs/copy.coffee/">Copy.coffee</a>
</li>

                        
                            
<li >
    <a href="../../../fs/createReadStream.coffee/">createReadStream.coffee</a>
</li>

                        
                            
<li >
    <a href="../../../fs/exists.coffee/">Exists.coffee</a>
</li>

                        
                            
<li >
    <a href="../../../fs/lstat.coffee/">Lstat.coffee</a>
</li>

                        
                            
<li >
    <a href="../../../fs/mkdir.coffee/">Mkdir.coffee</a>
</li>

                        
                            
<li >
    <a href="../../../fs/readFile.coffee/">readFile.coffee</a>
</li>

                        
                            
<li >
    <a href="../../../fs/readlink.coffee/">Readlink.coffee</a>
</li>

                        
                            
<li >
    <a href="../../../fs/rename.coffee/">Rename.coffee</a>
</li>

                        
                            
<li >
    <a href="../../../fs/rmdir.coffee/">Rmdir.coffee</a>
</li>

                        
                            
<li >
    <a href="../../../fs/stat.coffee/">Stat.coffee</a>
</li>

                        
                            
<li >
    <a href="../../../fs/symlink.coffee/">Symlink.coffee</a>
</li>

                        
                            
<li >
    <a href="../../../fs/unlink.coffee/">Unlink.coffee</a>
</li>

                        
                            
<li >
    <a href="../../../fs/writeFile.coffee/">writeFile.coffee</a>
</li>

                        
                        </ul>
                    </li>
                
                
                
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Java <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li >
    <a href="../../../java/keystore_add.coffee/">Keystore add.coffee</a>
</li>

                        
                            
<li >
    <a href="../../../java/keystore_remove.coffee/">Keystore remove.coffee</a>
</li>

                        
                        </ul>
                    </li>
                
                
                
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Krb5 <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li >
    <a href="../../../krb5/addprinc.coffee/">Addprinc.coffee</a>
</li>

                        
                            
<li >
    <a href="../../../krb5/delprinc.coffee/">Delprinc.coffee</a>
</li>

                        
                            
<li >
    <a href="../../../krb5/ktadd.coffee/">Ktadd.coffee</a>
</li>

                        
                            
<li >
    <a href="../../../krb5/ticket.coffee/">Ticket.coffee</a>
</li>

                        
                            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Ktutil</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../../krb5/ktutil/add.coffee/">Add.coffee</a>
</li>

        
    </ul>
  </li>

                        
                        </ul>
                    </li>
                
                
                
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Ldap <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li >
    <a href="../../../ldap/acl.coffee/">Acl.coffee</a>
</li>

                        
                            
<li >
    <a href="../../../ldap/add.coffee/">Add.coffee</a>
</li>

                        
                            
<li >
    <a href="../../../ldap/delete.coffee/">Delete.coffee</a>
</li>

                        
                            
<li >
    <a href="../../../ldap/index.coffee/">Index.coffee</a>
</li>

                        
                            
<li >
    <a href="../../../ldap/schema.coffee/">Schema.coffee</a>
</li>

                        
                            
<li >
    <a href="../../../ldap/user.coffee/">User.coffee</a>
</li>

                        
                        </ul>
                    </li>
                
                
                
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Log <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li >
    <a href="../../../log/cli.coffee/">Cli.coffee</a>
</li>

                        
                            
<li >
    <a href="../../../log/csv.coffee/">Csv.coffee</a>
</li>

                        
                            
<li >
    <a href="../../../log/fs.coffee/">Fs.coffee</a>
</li>

                        
                            
<li >
    <a href="../../../log/md.coffee/">Md.coffee</a>
</li>

                        
                            
<li >
    <a href="../../../log/stream.coffee/">Stream.coffee</a>
</li>

                        
                        </ul>
                    </li>
                
                
                
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Misc <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li >
    <a href="../../../misc/conditions.coffee/">Conditions.coffee</a>
</li>

                        
                            
<li >
    <a href="../../../misc/db.coffee/">Db.coffee</a>
</li>

                        
                            
<li >
    <a href="../../../misc/diff.coffee/">Diff.coffee</a>
</li>

                        
                            
<li >
    <a href="../../../misc/docker.coffee/">Docker.coffee</a>
</li>

                        
                            
<li >
    <a href="../../../misc/krb5.coffee/">Krb5.coffee</a>
</li>

                        
                            
<li >
    <a href="../../../misc/ldap.coffee/">Ldap.coffee</a>
</li>

                        
                            
<li >
    <a href="../../../misc/os.coffee/">Os.coffee</a>
</li>

                        
                            
<li >
    <a href="../../../misc/pidfile_running.coffee/">Pidfile running.coffee</a>
</li>

                        
                        </ul>
                    </li>
                
                
                
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Service <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li >
    <a href="../../../service/assert.coffee/">Assert.coffee</a>
</li>

                        
                            
<li >
    <a href="../../../service/discover.coffee/">Discover.coffee</a>
</li>

                        
                            
<li >
    <a href="../../../service/index.coffee/">Index.coffee</a>
</li>

                        
                            
<li >
    <a href="../../../service/init.coffee/">Init.coffee</a>
</li>

                        
                            
<li >
    <a href="../../../service/install.coffee/">Install.coffee</a>
</li>

                        
                            
<li >
    <a href="../../../service/remove.coffee/">Remove.coffee</a>
</li>

                        
                            
<li >
    <a href="../../../service/restart.coffee/">Restart.coffee</a>
</li>

                        
                            
<li >
    <a href="../../../service/start.coffee/">Start.coffee</a>
</li>

                        
                            
<li >
    <a href="../../../service/startup.coffee/">Startup.coffee</a>
</li>

                        
                            
<li >
    <a href="../../../service/status.coffee/">Status.coffee</a>
</li>

                        
                            
<li >
    <a href="../../../service/stop.coffee/">Stop.coffee</a>
</li>

                        
                        </ul>
                    </li>
                
                
                
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Ssh <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li >
    <a href="../../../ssh/close.coffee/">Close.coffee</a>
</li>

                        
                            
<li >
    <a href="../../../ssh/index.coffee/">Index.coffee</a>
</li>

                        
                            
<li >
    <a href="../../../ssh/open.coffee/">Open.coffee</a>
</li>

                        
                            
<li >
    <a href="../../../ssh/root.coffee/">Root.coffee</a>
</li>

                        
                        </ul>
                    </li>
                
                
                
                    <li class="dropdown active">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">System <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li >
    <a href="../../cgroups.coffee/">Cgroups.coffee</a>
</li>

                        
                            
<li >
    <a href="../../chmod.coffee/">Chmod.coffee</a>
</li>

                        
                            
<li >
    <a href="../../chown.coffee/">Chown.coffee</a>
</li>

                        
                            
<li >
    <a href="../../copy.coffee/">Copy.coffee</a>
</li>

                        
                            
<li >
    <a href="../../discover.coffee/">Discover.coffee</a>
</li>

                        
                            
<li >
    <a href="../../limits.coffee/">Limits.coffee</a>
</li>

                        
                            
<li >
    <a href="../../link.coffee/">Link.coffee</a>
</li>

                        
                            
<li >
    <a href="../../mkdir.coffee/">Mkdir.coffee</a>
</li>

                        
                            
<li >
    <a href="../../mod.coffee/">Mod.coffee</a>
</li>

                        
                            
<li >
    <a href="../../move.coffee/">Move.coffee</a>
</li>

                        
                            
<li >
    <a href="../../remove.coffee/">Remove.coffee</a>
</li>

                        
                            
<li >
    <a href="../../tmpfs.coffee/">Tmpfs.coffee</a>
</li>

                        
                            
<li >
    <a href="../../uid_gid.coffee/">Uid gid.coffee</a>
</li>

                        
                            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Execute</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../assert.coffee/">Assert.coffee</a>
</li>

        
            
<li class="active">
    <a href="./">Index.coffee</a>
</li>

        
    </ul>
  </li>

                        
                            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Group</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../group/index.coffee/">Index.coffee</a>
</li>

        
            
<li >
    <a href="../../group/remove.coffee/">Remove.coffee</a>
</li>

        
    </ul>
  </li>

                        
                            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">User</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../user/index.coffee/">Index.coffee</a>
</li>

        
            
<li >
    <a href="../../user/remove.coffee/">Remove.coffee</a>
</li>

        
    </ul>
  </li>

                        
                        </ul>
                    </li>
                
                
                
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Tools <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li >
    <a href="../../../tools/backup.coffee/">Backup.coffee</a>
</li>

                        
                            
<li >
    <a href="../../../tools/compress.coffee/">Compress.coffee</a>
</li>

                        
                            
<li >
    <a href="../../../tools/extract.coffee/">Extract.coffee</a>
</li>

                        
                            
<li >
    <a href="../../../tools/git.coffee/">Git.coffee</a>
</li>

                        
                            
<li >
    <a href="../../../tools/iptables.coffee/">Iptables.coffee</a>
</li>

                        
                            
<li >
    <a href="../../../tools/repo.coffee/">Repo.coffee</a>
</li>

                        
                            
<li >
    <a href="../../../tools/sysctl.coffee/">Sysctl.coffee</a>
</li>

                        
                            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Rubygems</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../../tools/rubygems/fetch.coffee/">Fetch.coffee</a>
</li>

        
            
<li >
    <a href="../../../tools/rubygems/install.coffee/">Install.coffee</a>
</li>

        
            
<li >
    <a href="../../../tools/rubygems/remove.coffee/">Remove.coffee</a>
</li>

        
    </ul>
  </li>

                        
                        </ul>
                    </li>
                
                
                
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Wait <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li >
    <a href="../../../wait/execute.coffee/">Execute.coffee</a>
</li>

                        
                            
<li >
    <a href="../../../wait/exist.coffee/">Exist.coffee</a>
</li>

                        
                            
<li >
    <a href="../../../wait/index.coffee/">Index.coffee</a>
</li>

                        
                        </ul>
                    </li>
                
                
                </ul>
            

            <ul class="nav navbar-nav navbar-right">
                <li>
                    <a href="#" data-toggle="modal" data-target="#mkdocs_search_modal">
                        <i class="fa fa-search"></i> Search
                    </a>
                </li>
                
                    <li >
                        <a rel="next" href="../assert.coffee/">
                            <i class="fa fa-arrow-left"></i> Previous
                        </a>
                    </li>
                    <li >
                        <a rel="prev" href="../../group/index.coffee/">
                            Next <i class="fa fa-arrow-right"></i>
                        </a>
                    </li>
                
                
            </ul>
        </div>
    </div>
</div>

        <div class="container">
            
                <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
    
        <li class="main active"><a href="#nikitasystemexecuteoptions-callback">nikita.system.execute(options, [callback])</a></li>
        
            <li><a href="#exit-codes">Exit codes</a></li>
        
            <li><a href="#options">Options</a></li>
        
            <li><a href="#callback-parameters">Callback parameters</a></li>
        
            <li><a href="#create-a-user-over-ssh">Create a user over SSH:</a></li>
        
            <li><a href="#run-a-command-with-bash">Run a command with bash</a></li>
        
            <li><a href="#source-code">Source Code</a></li>
        
            <li><a href="#dependencies">Dependencies</a></li>
        
    
    </ul>
</div></div>
                <div class="col-md-9" role="main">

<h1 id="nikitasystemexecuteoptions-callback"><code>nikita.system.execute(options, [callback])</code></h1>
<p>Run a command locally or with ssh if <code>host</code> or <code>ssh</code> is provided.</p>
<h2 id="exit-codes">Exit codes</h2>
<p>The properties "code" and "code_skipped" are important to determine whether an
action failed or succeed with or without modifications. An action is expected to
execute successfully with modifications if the exit code match one of the value
in "code", by default "0". Otherwise, it is considered to have failed and an
error is passed to the user callback. The "code_skipped" option is used to
define one or more exit codes that are considered successfull but without
creating any modifications.</p>
<h2 id="options">Options</h2>
<ul>
<li><code>arch_chroot</code> (boolean|string) <br />
  Run this command inside a root directory with the arc-chroot command or any
  provided string, require the "rootdir" option if activated.</li>
<li><code>bash</code> (boolean|string) <br />
  Serialize the command into a file and execute it with bash.</li>
<li><code>rootdir</code> (string) <br />
  Path to the mount point corresponding to the root directory, required if
  the "arch_chroot" option is activated.</li>
<li><code>cmd</code> <br />
  String, Object or array; Command to execute.</li>
<li><code>code</code> (int|string|array) <br />
  Expected code(s) returned by the command, int or array of int, default to 0.</li>
<li><code>code_skipped</code> (int|string|array) <br />
  Expected code(s) returned by the command if it has no effect, executed will
  not be incremented, int or array of int.</li>
<li><code>dirty</code> (boolean) <br />
  Leave temporary files on the filesystem.</li>
<li><code>trap</code> <br />
  Exit immediately if a commands exits with a non-zero status.</li>
<li><code>cwd</code> <br />
  Current working directory.</li>
<li><code>env</code> <br />
  Environment variables, default to <code>process.env</code>.</li>
<li><code>gid</code> <br />
  Unix group id.</li>
<li><code>log</code> <br />
  Function called with a log related messages.</li>
<li><code>stdin_log</code> (boolean) <br />
  Log the executed command of type stdin, default is "true".</li>
<li><code>stdout</code> (stream.Writable) <br />
  Writable EventEmitter in which the standard output of executed commands will
  be piped.</li>
<li><code>stdout_callback</code> (boolean) <br />
  Pass stdout output to the callback as fourth argument, default is "true".</li>
<li><code>stdout_log</code> (boolean) <br />
  Pass stdout output to the logs of type "stdout_stream", default is "true".</li>
<li><code>stdout_trim</code> (boolean) <br />
  Trim stdout argument passed in the callback.</li>
<li><code>stderr</code> (stream.Writable) <br />
  Writable EventEmitter in which the standard error output of executed command
  will be piped.</li>
<li><code>stderr_callback</code> (boolean) <br />
  Pass stderr output to the callback as fourth argument, default is "true".</li>
<li><code>stderr_log</code> (boolean) <br />
  Pass stdout output to the logs of type "stdout_stream", default is "true".</li>
<li><code>stderr_trim</code> (boolean) <br />
  Trim stderr argument passed in the callback.</li>
<li><code>sudo</code> (boolean) <br />
  Run a command as sudo, desactivated if user is "root".</li>
<li><code>target</code> (string) <br />
  Temporary path storing the script, only apply with the bash and arch_chroot options, always disposed once executed.</li>
<li><code>uid</code> <br />
  Unix user id.</li>
</ul>
<h2 id="callback-parameters">Callback parameters</h2>
<ul>
<li><code>err</code> <br />
  Error object if any.</li>
<li><code>status</code> <br />
  Value is "true" if command exit equals option "code", "0" by default, "false" if
  command exit equals option "code_skipped", none by default.</li>
<li><code>stdout</code> <br />
  Stdout value(s) unless <code>stdout</code> option is provided.</li>
<li><code>stderr</code> <br />
  Stderr value(s) unless <code>stderr</code> option is provided.</li>
</ul>
<h2 id="create-a-user-over-ssh">Create a user over SSH:</h2>
<p>This example create a user on a remote server with the <code>useradd</code> command. It
print the error message if the command failed or an information message if it
succeed.</p>
<p>An exit code equal to "9" defined by the "code_skipped" option indicates that
the command is considered successfull but without any impact.</p>
<pre><code class="javascript">nikita.system.execute({
  ssh: ssh,
  cmd: 'useradd myfriend',
  code_skipped: 9
}, function(err, created){
  if(err) return;
  if(created){
    console.log('User created');
  }else{
    console.log('User already exists');
  }
});
</code></pre>

<h2 id="run-a-command-with-bash">Run a command with bash</h2>
<pre><code class="javascript">nikita.system.execute({
  bash: true,
  cmd: 'env'
}, function(err, status, stdout, stderr){
  console.log(err || stdout);
});
</code></pre>

<h2 id="source-code">Source Code</h2>
<pre><code>module.exports = (options, callback) -&gt;
  options.log message: "Entering execute", level: 'DEBUG', module: 'nikita/lib/system/execute'
  # SSH connection
  ssh = @ssh options.ssh
  # Validate parameters
  options.cmd = options.argument if typeof options.argument is 'string'
  options.code ?= [0]
  options.code = [options.code] unless Array.isArray options.code
  options.code_skipped ?= []
  options.code_skipped = [options.code_skipped] unless Array.isArray options.code_skipped
  options.stdin_log ?= true
  options.stdout_log ?= true
  options.stderr_log ?= true
  options.stdout_callback = true if options.stdout_callback is undefined
  options.stderr_callback = true if options.stderr_callback is undefined
  options.cmd = options.cmd.call @, options if typeof options.cmd is 'function'
  options.bash = 'bash' if options.bash is true
  options.arch_chroot = 'arch-chroot' if options.arch_chroot is true
  options.cmd = "set -e\n#{options.cmd}" if options.cmd and options.trap
  options.cmd_original = "#{options.cmd}"
  throw Error "Required Option: the \"cmd\" option is not provided" unless options.cmd?
  throw Error "Incompatible Options: bash, arch_chroot" if ['bash', 'arch_chroot'].filter((k) -&gt; options[k]).length &gt; 1
  throw Error "Required Option: \"rootdir\" with \"arch_chroot\"" if options.arch_chroot and not options.rootdir
  throw Error "Invalid Option: the \"target\" option requires either one of the \"bash\" or \"arch_chroot\" options" if options.target and not ['bash', 'arch_chroot'].filter((k) -&gt; options[k]).length
  result = stdout: null, stderr: null, code: null
  # Guess current username
  current_username =
    if ssh then ssh.config.username
    else if /^win/.test(process.platform) then process.env['USERPROFILE'].split(path.sep)[2]
    else process.env['USER']
  # Sudo
  @call -&gt;
    return unless options.sudo
    return options.sudo = false if current_username is 'root'
    options.bash = 'bash' unless ['bash', 'arch_chroot'].some (k) -&gt; options[k]
  # User substitution
  # Determines if writing is required and eventually convert uid to username
  @call shy: true, (_, callback)-&gt;
    return callback null, false unless options.uid
    return callback null, false if current_username is 'root'
    return callback null, options.uid isnt current_username unless /\d/.test "#{options.uid}"
    @system.execute "awk -v val=#{options.uid} -F ":" '$3==val{print $1}' /etc/passwd`", (err, _, stdout) -&gt;
      options.uid = stdout.trim() unless err
      options.bash = 'bash' unless options.bash or options.arch_chroot
      callback err, options.uid isnt current_username
  # Write script
  @call
    if: -&gt; options.bash
  , -&gt;
    cmd = options.cmd
    options.target = "/tmp/nikita_#{string.hash options.cmd}" if typeof options.target isnt 'string'
    options.log message: "Writing bash script to #{JSON.stringify options.target}", level: 'INFO'
    options.cmd = "#{options.bash} #{options.target}"
    options.cmd = "su - #{options.uid} -c '#{options.cmd}'" if options.uid
    @fs.writeFile
      target: options.target
      content: cmd
      uid: options.uid
      sudo: false
  @call
    if: -&gt; options.arch_chroot
  , -&gt;
    cmd = options.cmd
    options.target = "/var/tmp/nikita_#{string.hash options.cmd}" if typeof options.target isnt 'string'
    options.log message: "Writing arch-chroot script to #{JSON.stringify options.target}", level: 'INFO'
    options.cmd = "arch-chroot #{options.rootdir} bash #{options.target}"
    @fs.writeFile
      target: "#{path.join options.rootdir, options.target}"
      content: "#{cmd}"
      mode: options.mode
      sudo: false
  @call -&gt;
    return unless options.sudo
    options.cmd = "sudo #{options.cmd}" if options.sudo
  # Execute
  @call (_, callback) -&gt;
    options.log message: options.cmd_original, type: 'stdin', level: 'INFO', module: 'nikita/lib/system/execute' if options.stdin_log
    child = exec options, ssh: ssh
    result.stdout = []; result.stderr = []
    child.stdout.pipe options.stdout, end: false if options.stdout
    child.stderr.pipe options.stderr, end: false if options.stderr
    stdout_stream_open = stderr_stream_open = false
    if options.stdout_callback or options.stdout_log
      child.stdout.on 'data', (data) -&gt;
        stdout_stream_open = true if options.stdout_log
        options.log message: data, type: 'stdout_stream', module: 'nikita/lib/system/execute' if options.stdout_log
        if options.stdout_callback
          if Array.isArray result.stdout # A string on exit
            result.stdout.push data
          else console.log 'stdout coming after child exit'
    if options.stderr_callback or options.stderr_log
      child.stderr.on 'data', (data) -&gt;
        stderr_stream_open = true if options.stderr_log
        options.log message: data, type: 'stderr_stream', module: 'nikita/lib/system/execute' if options.stderr_log
        if options.stderr_callback
          if Array.isArray result.stderr # A string on exit
            result.stderr.push data
          else console.log 'stderr coming after child exit'
    child.on "exit", (code) -&gt;
      result.code = code
      # Give it some time because the "exit" event is sometimes
      # called before the "stdout" "data" event when runing
      # `npm test`
      setTimeout -&gt;
        options.log message: null, type: 'stdout_stream', module: 'nikita/lib/system/execute' if stdout_stream_open and options.stdout_log
        options.log message: null, type: 'stderr_stream', module: 'nikita/lib/system/execute' if  stderr_stream_open and options.stderr_log
        result.stdout = result.stdout.map((d) -&gt; d.toString()).join('')
        result.stdout = result.stdout.trim() if options.trim or options.stdout_trim
        result.stderr = result.stderr.map((d) -&gt; d.toString()).join('')
        result.stderr = result.stderr.trim() if options.trim or options.stderr_trim
        options.log message: result.stdout, type: 'stdout', module: 'nikita/lib/system/execute' if result.stdout and result.stdout isnt '' and options.stdout_log
        options.log message: result.stderr, type: 'stderr', module: 'nikita/lib/system/execute' if result.stderr and result.stderr isnt '' and options.stderr_log
        if options.stdout
          child.stdout.unpipe options.stdout
        if options.stderr
          child.stderr.unpipe options.stderr
        if options.code.indexOf(code) is -1 and options.code_skipped.indexOf(code) is -1
          err = Error "Invalid Exit Code: #{code}"
          err.code = code
          return callback err, null
        if options.code_skipped.indexOf(code) is -1
          status = true
        else
          options.log message: "Skip exit code \"#{code}\"", level: 'INFO', module: 'nikita/lib/system/execute'
        callback null, status
      , 1
  @next (err1, status) -&gt;
    @system.remove
      if: not options.dirty and options.target
      target: options.target
      always: true # todo, need to create this option (run even on error)
      sudo: false
    @next (err2) -&gt;
      callback err1 or err2, status, result.stdout, result.stderr, result.code
</code></pre>
<h2 id="dependencies">Dependencies</h2>
<pre><code>path = require 'path'
exec = require 'ssh2-exec'
misc = require '../../misc'
string = require '../../misc/string'
</code></pre></div>
            
        </div>

        <footer class="col-md-12">
            <hr>
            
            <p>Documentation built with <a href="http://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>

        <script src="../../../js/jquery-1.10.2.min.js"></script>
        <script src="../../../js/bootstrap-3.0.3.min.js"></script>
        <script src="../../../js/highlight.pack.js"></script>
        <script>var base_url = '../../..';</script>
        <script data-main="../../../mkdocs/js/search.js" src="../../../mkdocs/js/require.js"></script>
        <script src="../../../js/base.js"></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="Search Modal" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                        <h4 class="modal-title" id="exampleModalLabel">Search</h4>
                    </div>
                    <div class="modal-body">
                        <p>
                            From here you can search these documents. Enter
                            your search terms below.
                        </p>
                        <form role="form">
                            <div class="form-group">
                                <input type="text" class="form-control" placeholder="Search..." id="mkdocs-search-query">
                            </div>
                        </form>
                        <div id="mkdocs-search-results"></div>
                    </div>
                    <div class="modal-footer">
                    </div>
                </div>
            </div>
        </div>

    </body>
</html>
